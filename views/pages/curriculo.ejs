<%- include('../partials/header', { title: 'Currículo | Lucas Martins' }) %>
<%- include('../partials/nav') %>

<main class="container py-5 flex-grow-1 mt-5">

  <section class="mb-5">
    <h2 class="display-5 fw-bold mb-4 text-gradient">Formação Acadêmica</h2>
    <div class="row g-4">
      <% if (formacoes && formacoes.length > 0) { %>
        <% formacoes.forEach(formacao => { %>
          <div class="col-md-6">
            <div class="card border-0 h-100 shadow-sm hover-shadow-lg transition-all">
              <div class="card-body p-4">
                <div class="d-flex justify-content-between align-items-start mb-3">
                  <div>
                    <h3 class="h4 fw-bold mb-1"><%= formacao.instituicao %></h3>
                    <p class="mb-1 text-muted"><%= formacao.curso %></p>
                    <small class="text-muted"><i class="fas fa-map-marker-alt me-1"></i><%= formacao.localizacao %></small>
                  </div>
                  <span class="badge bg-primary bg-opacity-10 text-primary rounded-pill"><%= formacao.periodo %></span>
                </div>
              </div>
            </div>
          </div>
        <% }); %>
      <% } %>
    </div>
  </section>

  <section class="mb-5">
    <h2 class="display-5 fw-bold mb-4 text-gradient">Competências Técnicas</h2>
    <div class="row g-4">
      <% const categorias = ['Linguagem', 'Front-end', 'Ferramenta']; %>
      <% const iconesCategoria = { 'Linguagem': 'fa-code', 'Front-end': 'fa-paint-brush', 'Ferramenta': 'fa-tools' }; %>
      
      <% categorias.forEach(categoria => { %>
        <% if (tecnologiasAgrupadas[categoria] && tecnologiasAgrupadas[categoria].length > 0) { %>
          <div class="col-md-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-header bg-transparent border-0 pb-0">
                <div class="bg-primary bg-opacity-10 text-primary rounded-circle p-3 mb-3 d-inline-flex">
                  <i class="fas <%= iconesCategoria[categoria] || 'fa-star' %> fs-4"></i>
                </div>
                <h3 class="h4"><%= categoria %></h3>
              </div>
              <div class="card-body pt-0">
                <div class="d-flex flex-wrap gap-3">
                  <% tecnologiasAgrupadas[categoria].forEach(tech => { %>
                    <div class="bg-white rounded-3 p-2 shadow-sm" style="width: 50px; height: 50px;" title="<%= tech.nome %>">
                      <img src="<%= tech.icone_url %>" class="w-100 h-100 object-fit-contain" alt="<%= tech.nome %>">
                    </div>
                  <% }); %>
                </div>
              </div>
            </div>
          </div>
        <% } %>
      <% }); %>
    </div>
  </section>

  <section>
    <h2 class="display-5 fw-bold mb-4 text-gradient">Soft Skills</h2>
    <div class="row g-4">
      <% if (softSkills && softSkills.length > 0) { %>
        <% softSkills.forEach(skill => { %>
          <div class="col-lg-4 col-md-6">
            <div class="card border-0 h-100 shadow-sm hover-shadow-sm transition-all">
              <div class="card-body text-center p-4">
                <div class="bg-primary bg-opacity-10 text-primary rounded-circle p-3 mb-3 mx-auto d-inline-flex">
                  <i class="fas <%= skill.icone_classe %> fs-4"></i>
                </div>
                <h3 class="h5 fw-bold mb-2"><%= skill.nome %></h3>
                <p class="text-muted mb-0"><%= skill.descricao %></p>
              </div>
            </div>
          </div>
        <% }); %>
      <% } %>
    </div>
  </section>
</main>

<%- include('../partials/footer') %>